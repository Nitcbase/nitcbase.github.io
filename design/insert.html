<!DOCTYPE HTML>
<html>

<head>
    <title>Insert</title>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="/css/bootstrap.min.css">
    <link href="/css/prism.css" rel="stylesheet" />
    <link rel="stylesheet" href="/css/style.css">
    <script type="text/javascript" src="/js/jquery-3.3.1.min.js"></script>
    <script type="text/javascript" src="/js/prism.js"></script>
</head>
    
    
<body>
    <div class="header" id="top">
        <div id="title">
            <h1> <a href="/index.html">Nitcbase</a></h1>
            <!--h3> Database Management System</h3-->
        </div>
        
        <div id="menubar">
            <ul id="menu">
                <li> <a href="/index.html">Home</a></li>
                <li> <a href="/documentation.html"> Documentation</a></li>
                <li> <a href="/roadmap.html">Roadmap</a></li>
            </ul>
        </div>
    </div>
    
    <div id="content">
        <div id="design-content">
            <div id="insert" class="design-detail">
                <h2>Insert</h2>
                <h3>Arguments:</h3>
                <p>relName (char[ATTR_SIZE]), nAttrs (int), attr (char[ ][ATTR_SIZE])</p>
                
                <div class=retval>
                    <h3>Return value:</h3>
                    <table>
                        <tr>
                            <td>SUCCESS</td>
                            <td>On successful insert of the given record into the relation</td>
                        </tr>
                        <tr>
                            <td>E_RELNOTOPEN</td>
                            <td>If the relation is not open.</td>
                        </tr>
                        <tr>
                            <td>E_NATTRMISMATCH</td>
                            <td>If the actual number of attributes in the relation is different from the provided number of attributes</td>
                        </tr>
                        <tr>
                            <td>E_ATTRTYPEMISMATCH</td>
                            <td>If the actual type of the attribute in the relation is different from the type of provided attribute in the record.</td>
                        </tr>
                        <tr>
                            <td>E_DISKFULL</td>
                            <td>If disk space is not sufficient for inserting the record / index</td>
                        </tr>
                    </table>
                </div>
                
                <h3>Description:</h3>
                <p>This function inserts </p>
                
                <h3>Algorithm:</h3>
                <div class="algo">
                    <pre class="line-numbers"><code class="lang-cpp">int insert(char relname[ATTR_SIZE], int nAttrs, char record[][ATTR_SIZE]){

    // get the relation's open relation id(let it be rel_id), using getRelid() method of Openreltable
    // if relation is not opened in Openreltable, return E_RELNOTOPEN

    //get the no. of attributes present in relation, from RelcatEntry present in Openreltable(using getRelCatEntry() method).
    //if nAttrs!=no_of_attrs in relation, return E_NATTRMISMATCH

    // let recval[nAttrs] be an array of type union Attribute

    /*iterate through 0 to nAttrs-1 :
        get the i'th attribute's AttrCatEntry (using getAttrcatEntry() of Openreltable )
    */
    // let type=attrcatentry.attr_type;

    if(type==INT){  
        //The input contains a string representation of the integer attribute value.
        attrval[iter].ival=atoi(attr[iter]);
        //if conversion fails(i.e string can not be converted to integer) return E_ATTRTYPEMISMATCH. 

    }else if(type==FLOAT){
        //do accordingly to float
    }else if(type==STRING){
        //No type conversion needed here.
    }


    int retval= ba_insert(rel_id,attrval)

    //return retval        
}

</code></pre>
                </div>
                <a href="code/insert.cpp" target="_blank" download>Click here</a> to download the code.
            </div>
        </div>
    </div>
    
</body>


</html>