<!DOCTYPE HTML>
<html>

<head>
    <title>Insert</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="/css/bootstrap.min.css">
    <link rel="stylesheet" href="/fontawesome/css/fontawesome.min.css">
    <link rel="stylesheet" href="/fontawesome/css/solid.min.css">
    <link rel="stylesheet" href="/css/style.css">
    <!--FAVICON-->
    <link rel="shortcut icon" type="image/png" href="/img/favicon.png" />
    
    <script type="text/javascript" src="/js/jquery-3.4.0.min.js" charset="utf-8"></script>
    <script type="text/javascript" src="/js/bootstrap.min.js" charset="utf-8"></script>
</head>
    
    
<body>
    
    <!-- HEADER BEGIN -->
    <header id="header">
        <nav class="navbar navbar-expand-sm fixed-top bg-dark navbar-dark">
            <div class="container">
                <a class="navbar-brand" href="/index.html">
                    <h3><span style="color:DodgerBlue">NITC</span>base</h3>
                </a>
                <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#collapsibleNavbar">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse " id="collapsibleNavbar">
                <ul class="navbar-nav ml-auto">
                    <li class="nav-item">
                        <a class="nav-link" href="/index.html">Home</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="/documentation.html">Documentation</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="/roadmap.html">Roadmap</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="/about.html">About Us</a>
                    </li>
                </ul>
                </div>  
            </div>
        </nav>
    </header>
    <!-- END OF HEADER -->
    
    <!-- CONTENT BEGIN -->
    <div id="content">
        <div class="container">
            <div class="row">
                <!--MAIN CONTENT START-->
                <div class="col">
                    <div id="top">
                        <!-- PAGE STARTS -->
                        <div id="insert" class="design-detail">
                            <div class="pagetitle">
                                <h1>Insert</h1>
                            </div>
                            <h4>Arguments:</h4>
                            <table class="table table-bordered table-hover">
                                <tr>
                        			<td>relName</td>
                        			<td>char[ATTR_SIZE]</td>
                        			<td>Name of Relation that has to be opened in cache.</td>
                    			</tr>
                                <tr>
                        			<td>nAttrs</td>
                        			<td>int</td>
                        			<td>No. of attributes in the inserting record.(which has to be matched with no.of attributes in relation)</td>
                    			</tr>		
                                <tr>
                               		<td>record</td>
                        			<td>char[][ATTR_SIZE]</td>
                        			<td>Pointer to Record, where Record is an array of strings, each string containing value of corresponding attribute.</td>
                   				</tr>
                            </table>
                            
                            <h4>Return value:</h4>
                            <table class="table table-bordered table-hover">
                            	<tr>
                            		<td>SUCCESS</td>
                            		<td>On successful insert of the given record into the relation</td>
                        		</tr>
                       			<tr>
                            		<td>E_RELNOTOPEN</td>
                            		<td>If the relation is not open.</td>
                        		</tr>
                        		<tr>
                            		<td>E_NATTRMISMATCH</td>
                            		<td>If the actual number of attributes in the relation is different from the provided number of attributes</td>
                        		</tr>
                        		<tr>
                            		<td>E_ATTRTYPEMISMATCH</td>
                            		<td>If the actual type of the attribute in the relation is different from the type of provided attribute in the record.</td>
                        		</tr>
                        		<tr>
                            		<td>E_DISKFULL</td>
                            		<td>If disk space is not sufficient for inserting the record / index</td>
                        		</tr>
                         	</table>

                            <h4>Description:</h4>
                            <p>Description of the function/method</p>

							<h4>Algorithm:</h4>
                            <div class="code"><pre><code>int insert(char relname[ATTR_SIZE], int nAttrs, char record[][ATTR_SIZE]){

    // get the relation's open relation id(let it be rel_id), using getRelid() method of Openreltable
    // if relation is not opened in Openreltable, return E_RELNOTOPEN

    //get the no. of attributes present in relation, from RelcatEntry present in Openreltable(using getRelCatEntry() method).
    //if nAttrs!=no_of_attrs in relation, return E_NATTRMISMATCH

    // let recval[nAttrs] be an array of type union Attribute

    /*iterate through 0 to nAttrs-1 :
        get the i'th attribute's AttrCatEntry (using getAttrcatEntry() of Openreltable )
    */
    // let type=attrcatentry.attr_type;

    if(type==INT){  
        //The input contains a string representation of the integer attribute value.
        attrval[iter].ival=atoi(attr[iter]);
        //if conversion fails(i.e string can not be converted to integer) return E_ATTRTYPEMISMATCH. 

    }else if(type==FLOAT){
        //do accordingly to float
    }else if(type==STRING){
        //No type conversion needed here.
    }

    int retval= ba_insert(rel_id,attrval)

    //return retval        
}</code></pre></div>

                            <a href="code/insert.cpp" target="_blank" download>Click here</a> to download the code.
                        </div>
                        <!-- PAGE ENDS -->
                    </div>
                </div>
                <!-- END OF MAIN CONTENT -->
            </div>
        </div>
        
    </div>
    <!-- END OF CONTENT -->
</body>

</html>
